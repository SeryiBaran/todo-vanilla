(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function d(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=d(o);fetch(o.href,r)}})();let c;const g=new Uint8Array(16);function h(){if(!c&&(c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(g)}const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function y(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}const S=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),u={randomUUID:S};function v(e,t,d){if(u.randomUUID&&!t&&!e)return u.randomUUID();e=e||{};const i=e.random||(e.rng||h)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){d=d||0;for(let o=0;o<16;++o)t[d+o]=i[o];return t}return y(i)}const s=document.querySelector(".controls"),a=document.querySelector(".todos"),p={generateID(){return v()},protectXSS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;")}},m={todos:JSON.parse(localStorage.getItem("todos"))||[],create(e){this.todos.push({id:p.generateID(),...e}),this.handleTodosChange()},remove(e){this.todos=this.todos.filter(t=>t.id!==e),this.handleTodosChange()},handleTodosChange(){this.updateLocalStorage(),this.render()},render(){a.innerHTML="",this.todos.forEach(e=>{a.insertAdjacentHTML("afterbegin",`<div class="todo" id="${e.id}">
          <button class="todo__remove-btn" data-todoid="${e.id}">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</button>
          <p class="todo__text">${e.content}</p>
        </div>`)}),document.querySelectorAll(".todo__remove-btn").forEach(e=>{e.addEventListener("click",()=>this.remove(e.dataset.todoid))})},updateLocalStorage(){localStorage.setItem("todos",JSON.stringify(this.todos))}};function f(e){e.preventDefault(),s.text.value.trim()!==""&&(m.create({content:p.protectXSS(s.text.value)}),s.text.value="")}m.render();s.addEventListener("submit",f);
